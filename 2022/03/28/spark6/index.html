<!DOCTYPE html>
<html lang="zh-CN" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <meta name="author" content="ResonaW" />
  <meta name="description" content="" />
  
  
  <title>
    
      Sparkå­¦ä¹ è®°å½•ï¼ˆå…­ï¼‰ï¼šHBaseå®‰è£… 
      
      
      |
    
     ç‘¾æœˆ
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.jpg">
    <link rel="icon" href="/images/favicon.jpg">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <!-- ä»£ç å—é£æ ¼ -->
  
    
<link rel="stylesheet" href="/css/figcaption/mac-block.css">

  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ç‘¾æœˆ" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- å¤´åƒå–æ¶ˆæ‡’åŠ è½½ï¼Œæ·»åŠ no-lazy -->
      
        <img no-lazy src="/images/avatar.jpg" alt="">
      
    </a>
    <div class="nickname"><a href="/">ResonaW</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/tags/">
          <a href="/tags/">Tags</a>
        </li>
      
        <li class="nav-item" data-path="/friends/">
          <a href="/friends/">Friends</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- æ–‡ç« è¯¦æƒ…é¡µï¼Œå±•ç¤ºæ–‡ç« å…·ä½“å†…å®¹ï¼Œurlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
<!-- åŒæ—¶ä¸ºã€Œæ ‡ç­¾tagã€ï¼Œã€Œæœ‹å‹friendã€ï¼Œã€Œåˆ†ç±»categoriesã€ï¼Œã€Œå…³äºaboutã€é¡µé¢çš„æ‰¿è½½é¡µé¢ï¼Œå…·ä½“å±•ç¤ºå–å†³äºpage.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>














  <!-- æ–‡ç« å†…å®¹é¡µ urlå½¢å¼ï¼šhttps://yoursite/æ–‡ç« æ ‡é¢˜/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">Sparkå­¦ä¹ è®°å½•ï¼ˆå…­ï¼‰ï¼šHBaseå®‰è£…</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="æ›´æ–°æ—¶é—´"></i>
          2022-03-28 15:10:33
        </span>
        
              <span class="post-tags">
                <i class="iconfont icon-tags mr-10" title="æ ‡ç­¾"></i>
                
                  <span class="span--tag mr-8">
                    <a href="/tags/spark/" title="spark">
                      #spark
                    </a>
                  </span>
                
                  <span class="span--tag mr-8">
                    <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="å¤§æ•°æ®">
                      #å¤§æ•°æ®
                    </a>
                  </span>
                
              </span>
            
      </div>
      <div class="markdown-body">
        <p>æŒ‰ç…§æœ¬æ¬¡å­¦ä¹ çš„æ•™ç¨‹ï¼Œä¹‹åæ˜¯è¿›è¡ŒHBaseçš„å®‰è£…å’Œé…ç½®ã€‚ï¼ˆæ€ä¹ˆæ„Ÿè§‰è¿™ä¸€ç³»åˆ—çš„åç§°åº”è¯¥æ”¹æˆâ€œHadoopå®‰è£…è®°å½•â€ï¼Ÿå¥½å¥‡æ€ªã€‚ğŸ¤”ï¼‰</p>
<p>å’Œä¹‹å‰å„è½¯ä»¶çš„å®‰è£…ä¸€æ ·ï¼Œè¿›å…¥HBaseå®‰è£…åŒ…çš„ä¸‹è½½è·¯å¾„ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxf hbase-2.4.10-bin.tar.gz -C /usr/local</span><br><span class="line">sudo mv /usr/local/hbase-2.4.10 /usr/local/hbase</span><br></pre></td></tr></table></figure>

<p>å†ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼ˆvim ~&#x2F;.bashrcä¿®æ”¹ï¼Œsource ~&#x2F;.bashrcæ›´æ–°ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#hbase</span><br><span class="line">export PATH=$PATH:/usr/local/hbase/bin</span><br></pre></td></tr></table></figure>

<p>èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼ˆç»ˆç«¯ä¸­è¾“å…¥ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local</span><br><span class="line">sudo chown -R hadoop ./hbase</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å¯ä»¥å…ˆæ£€æŸ¥å®‰è£…æ˜¯å¦å®Œæˆã€‚åˆ‡æ¢å›ä¸»ç›®å½•ï¼ˆcd ~ï¼‰ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase version</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶è¿”å›ä»¥ä¸‹ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SLF4J: Class path contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hbase/lib/client-facing-thirdparty/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.</span><br><span class="line">SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]</span><br><span class="line">HBase 2.4.10</span><br><span class="line">Source code repository git://buildbox/home/apurtell/build/hbase revision=3e5359c73d1a96dd7d2ac5bc8f987e9a89ef90ea</span><br><span class="line">Compiled by apurtell on Mon Feb 28 10:03:15 PST 2022</span><br><span class="line">From source with checksum b38d895e719d82c3d3b2a886e3fca39f754f5ceef732e157604c905c7af3af2d4b9b861abfdd270e627a4fe1ffa8eba74a9b01095b856952d18023666cce66ad</span><br></pre></td></tr></table></figure>

<p>å¥½åƒæœ‰ç‚¹å¥‡æ€ªï¼Ÿçœ‹ä¸‹é¢èƒ½æˆåŠŸè¿”å›ç‰ˆæœ¬ä¿¡æ¯ï¼Œä½†è¿™ä¸Šé¢å‡ è¡Œæ˜¯æ€ä¹ˆå›äº‹ã€‚å¯æ€•ã€‚ï¼ˆæ³¨ï¼š<strong>ä¹‹åè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸€ç‚¹å°†ä¼šå†™åœ¨æ–‡æœ«ã€‚</strong>ï¼‰</p>
<p>æ¥ç€å¼€å§‹é…ç½®HBaseã€‚HBaseåŒæ ·æœ‰å¤šç§é…ç½®æ–¹å¼ï¼Œæœ¬æ¬¡ä¹Ÿé‡‡ç”¨ä¼ªåˆ†å¸ƒå¼é…ç½®ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/hbase/conf/hbase-env.sh</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä»¥ä¸‹å‡ é¡¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jdk1.8.0_301</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export HBASE_CLASSPATH=/usr/local/hadoop/conf</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export HBASE_MANAGES_ZK=true</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ä¿®æ”¹å¦ä¸€é¡¹æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/hbase/conf/hbase-site.xml</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.tmp.dir&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;./tmp&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.unsafe.stream.capability.enforce&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>æ”¹ä¸º:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.tmp.dir&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;./tmp&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.unsafe.stream.capability.enforce&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hbase.rootdir&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;hdfs://localhost:9000/hbase&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤é…ç½®ä¹Ÿå®Œæˆäº†ã€‚ä¸‹é¢å°†è¿›è¡Œæ£€éªŒã€‚</p>
<p>æ‰“å¼€ç»ˆç«¯ä¾æ¬¡è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br><span class="line">start-dfs.sh</span><br><span class="line">jps</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°ä»¥ä¸‹è¿›ç¨‹ï¼Œè¯´æ˜Hadoopå¯åŠ¨æˆåŠŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">8069 Jps</span><br><span class="line">7959 SecondaryNameNode</span><br><span class="line">7580 NameNode</span><br><span class="line">7724 DataNode</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨HBaseè¿›ç¨‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-hbase.sh</span><br></pre></td></tr></table></figure>

<p>å†ç”¨jpså‘½ä»¤æŸ¥çœ‹ï¼Œå‡ºç°ä¸‹åˆ—è¿›ç¨‹è¯´æ˜å¯åŠ¨æˆåŠŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">8592 HMaster</span><br><span class="line">8770 HRegionServer</span><br><span class="line">7959 SecondaryNameNode</span><br><span class="line">8471 HQuorumPeer</span><br><span class="line">9114 Jps</span><br><span class="line">7580 NameNode</span><br><span class="line">7724 DataNode</span><br></pre></td></tr></table></figure>

<p>æ¥ç€å°±å¯ä»¥å¯åŠ¨HBaseçš„shellè¿›è¡Œæ“ä½œäº†ã€‚åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼ˆexitå¯é€€å‡ºshellï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase shell</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SLF4J: Class path contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hadoop/share/hadoop/common/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: Found binding in [jar:file:/usr/local/hbase/lib/client-facing-thirdparty/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.</span><br><span class="line">SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]</span><br><span class="line">HBase Shell</span><br><span class="line">Use &quot;help&quot; to get list of supported commands.</span><br><span class="line">Use &quot;exit&quot; to quit this interactive shell.</span><br><span class="line">For Reference, please visit: http://hbase.apache.org/2.0/book.html#shell</span><br><span class="line">Version 2.4.10, r3e5359c73d1a96dd7d2ac5bc8f987e9a89ef90ea, Mon Feb 28 10:03:15 PST 2022</span><br><span class="line">Took 0.0012 seconds                                                                                                                                                                                                                                                               </span><br><span class="line">hbase:001:0&gt;</span><br></pre></td></tr></table></figure>

<p>æ€ä¹ˆåˆæ˜¯è¿™ä¸²warningï¼Ÿä½†åˆèƒ½æˆåŠŸå¯åŠ¨ï¼Œå¥½æ€ªå•Šã€‚ï¼ˆæ³¨ï¼š<strong>ä¹‹åè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸€ç‚¹å°†ä¼šå†™åœ¨æ–‡æœ«</strong>ã€‚ï¼‰</p>
<p>è¦å…³é—­HBaseï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop-hbase.sh</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡ï¼Œåœ¨ç­‰å¾…äº†å¾ˆä¹…åï¼ŒHBaseè¿˜æ˜¯æ²¡å…³æ‰ï¼ˆå·²ç»ä¸çŸ¥é“å‡ ä¸ªç‚¹äº†ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stopping hbase...............................................................................................................................................................................</span><br></pre></td></tr></table></figure>

<p>æœç´¢å¾—çŸ¥ï¼Œå¯ä»¥è¿™æ ·å…³é—­ã€‚å…ˆåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase-daemon.sh stop master</span><br></pre></td></tr></table></figure>

<p>å†è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop-hbase.sh</span><br></pre></td></tr></table></figure>

<p>çœŸğŸ‚å•Šï¼Œä¸€ä¸‹å°±å…³æ‰äº†ã€‚ä¸è¿‡è¿™æ ·çœŸçš„æ²¡é—®é¢˜ï¼Ÿï¼ˆ<strong>è¿˜çœŸæŒ–äº†ä¸ªå‘ï¼Œè¯¦è§ä¸‹æ–‡ã€‚</strong>ï¼‰</p>
<p>ç„¶åæ˜¯å…³é—­Hadoopè¿›ç¨‹ä¸é€€å‡ºæœ¬æœºsshè¿æ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#close the hadoop</span><br><span class="line">stop-dfs.sh</span><br><span class="line">#close the ssh</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å’Œé…ç½®å°±åˆ°æ­¤å®Œæˆäº†â€¦â€¦å—ï¼Ÿæ²¡æœ‰ï¼Œè¿˜è®°å¾—ä¸Šé¢ä¸¤å¤§æ®µwarningå—ï¼Ÿé€šè¿‡warningæœ¬èº«æä¾›çš„ä¿¡æ¯ï¼ˆå°±æ˜¯é‚£ä¸ªç½‘å€ï¼‰ï¼Œå¯ä»¥å¾—çŸ¥ï¼š</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2022/03/28/spark6/2022-03-28-121017.png"></p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2022/03/28/spark6/2022-03-28-121214.png"></p>
<p>å¤§æ„å°±æ˜¯Hadoopå’ŒHBaseéƒ½è°ƒç”¨äº†è¿™ä¸ªAPIã€‚å¹¶ä¸”è™½ç„¶ä½ ä¼šçœ‹åˆ°warningï¼Œä½†ç¨‹åºä¼šè‡ªåŠ¨é€‰æ‹©å…¶ä¸­ä¸€ä¸ªè¿è¡Œï¼Œå¹¶ä¸ä¼šå½±å“æ•´ä½“çš„è¿è¡Œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å»æ‰å…¶ä¸­ä¸€ä¸ªå°±ä¸ä¼šå‡ºç°è¿™ç§æé†’äº†ã€‚</p>
<p>ä½†æˆ‘å“ªé‡Œæ•¢ä¹±åˆ æ–‡ä»¶å•Šï¼Œæ¯æ¬¡çœ‹ç€è¿™ä¸€é•¿ä¸²åˆæœ‰ç‚¹çƒ¦ã€‚äºæ˜¯æˆ‘åæ¥åˆæ£€æŸ¥äº†ä¸€éHBaseçš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼ˆvim &#x2F;usr&#x2F;local&#x2F;hbase&#x2F;conf&#x2F;hbase-env.shï¼‰ï¼Œå‘ç°åªè¦ä¸è®©HBaseå†è°ƒç”¨ä¸€éHadoopçš„åº“å¥½åƒå°±è¡Œäº†ï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹è¿™ä¸€é¡¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Tell HBase whether it should include Hadoop&#x27;s lib when start up,</span><br><span class="line"># the default value is false,means that includes Hadoop&#x27;s lib.</span><br><span class="line">export HBASE_DISABLE_HADOOP_CLASSPATH_LOOKUP=&quot;true&quot;</span><br></pre></td></tr></table></figure>

<p>å†å¯åŠ¨ä¸€æ¬¡HBaseè¯•è¯•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br><span class="line">start-hbase.sh</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘çœ‹åˆ°äº†è¿™ä¸²è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1: running zookeeper, logging to /usr/local/hbase/bin/../logs/hbase-hadoop-zookeeper-ubuntu.out</span><br><span class="line">running master, logging to /usr/local/hbase/bin/../logs/hbase-hadoop-master-ubuntu.out</span><br><span class="line">: regionserver running as process 8770. Stop it first.</span><br></pre></td></tr></table></figure>

<p>å•Šè¿™ï¼Œæ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</p>
<p>è¾“å…¥jpså‘½ä»¤ï¼Œå‘ç°ç›®å‰è¿è¡Œçš„è¿›ç¨‹æ˜¯è¿™å‡ ä¸ªï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">13427 Jps</span><br><span class="line">13109 DataNode</span><br><span class="line">13318 SecondaryNameNode</span><br><span class="line">11831 HQuorumPeer</span><br><span class="line">12927 NameNode</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰è¿™äº‹ï¼Ÿäºæ˜¯å†è¾“å…¥ä¸€éstop-hbase.shå‘½ä»¤ï¼Œè¿”å›è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">no hbase master found</span><br><span class="line">127.0.0.1: running zookeeper, logging to /usr/local/hbase/bin/../logs/hbase-hadoop-zookeeper-ubuntu.out</span><br><span class="line">127.0.0.1: stopping zookeeper.</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶jpså‘½ä»¤è¿”å›æ­£å¸¸ï¼Œåªæœ‰Hadoopç›¸å…³è¿›ç¨‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">13109 DataNode</span><br><span class="line">13318 SecondaryNameNode</span><br><span class="line">12927 NameNode</span><br><span class="line">13711 Jps</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶æˆ‘æ³¨æ„åˆ°äº†è¾“å‡ºä¸­çš„â€œno hbase master foundâ€ã€‚å•Šè¿™ã€‚å†è¾“å…¥start-hbase.shå‘½ä»¤é‡æ–°å¯åŠ¨åï¼Œè¿™æ¬¡æ²¡æœ‰â€œStop it first.â€äº†ã€‚</p>
<p>ä¸è¿‡æ£€æŸ¥jpsè¿›ç¨‹å‘ç°ï¼Œç¡®å®å°‘äº†ä¸ªHMasterã€‚æˆ‘çš„masterå‘¢ï¼Ÿä½ å°±æ˜¯æˆ‘çš„Masterå—ï¼Ÿ</p>
<p>äºæ˜¯ç…§ç€ä¹‹å‰å…³é—­æ—¶çš„å‘½ä»¤è¾“å…¥äº†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase-daemon.sh start master</span><br></pre></td></tr></table></figure>

<p>å†è¾“å…¥jpsæ£€æŸ¥ï¼Œè¿›ç¨‹ç»ˆäºæ­£å¸¸äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">14851 Jps</span><br><span class="line">13109 DataNode</span><br><span class="line">13318 SecondaryNameNode</span><br><span class="line">14633 HMaster</span><br><span class="line">13997 HQuorumPeer</span><br><span class="line">14238 HRegionServer</span><br><span class="line">12927 NameNode</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å†å¯åŠ¨hbase shellï¼Œå°±æ²¡æœ‰ä¹‹å‰é‚£ä¸€é•¿ä¸²warningä¸€æ ·çš„ä¿¡æ¯äº†ï¼ˆä¸è¿‡åˆå‡ºæ¥ä¸€å¥æ–°çš„ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2022-03-28 12:18:51,591 WARN  [main] util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">HBase Shell</span><br><span class="line">Use &quot;help&quot; to get list of supported commands.</span><br><span class="line">Use &quot;exit&quot; to quit this interactive shell.</span><br><span class="line">For Reference, please visit: http://hbase.apache.org/2.0/book.html#shell</span><br><span class="line">Version 2.4.10, r3e5359c73d1a96dd7d2ac5bc8f987e9a89ef90ea, Mon Feb 28 10:03:15 PST 2022</span><br><span class="line">Took 0.0013 seconds                                                                                                                                                                                                                                                               </span><br><span class="line">hbase:001:0&gt;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶é€€å‡ºshellï¼Œå†è¾“å…¥hbase versionå‘½ä»¤ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¸²warningäº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HBase 2.4.10</span><br><span class="line">Source code repository git://buildbox/home/apurtell/build/hbase revision=3e5359c73d1a96dd7d2ac5bc8f987e9a89ef90ea</span><br><span class="line">Compiled by apurtell on Mon Feb 28 10:03:15 PST 2022</span><br><span class="line">From source with checksum b38d895e719d82c3d3b2a886e3fca39f754f5ceef732e157604c905c7af3af2d4b9b861abfdd270e627a4fe1ffa8eba74a9b01095b856952d18023666cce66ad</span><br></pre></td></tr></table></figure>

<p>ä¹‹åæ­£å¸¸é€€å‡ºHBaseï¼ˆè¿™æ¬¡å°±å¾ˆå¿«äº†ï¼‰å’ŒHadoopå³å¯ã€‚æœ¬æ¬¡å®‰è£…å’Œé…ç½®ç»ˆäºå®Œæˆäº†ğŸ˜‹ã€‚</p>
<p>ä½†çœ‹ç€é‚£å¥æ–°çš„WARNæ¶ˆæ¯ï¼Œæ€»è§‰å¾—ä¸å¯¹åŠ²å•Šï¼Œæœ‰æ²¡æœ‰åŠæ³•å»æ‰å®ƒå‘¢ï¼Ÿï¼ˆè§£å†³äº†ï¼Œæ–¹æ³•è§ä¸‹æ–‡ã€‚ï¼‰</p>
<p>é™„ï¼š<strong>å…³äºâ€œWARN [main] util.NativeCodeLoader: Unable to load native-hadoop library for your platformâ€¦ using builtin-java classes where applicableâ€æ¶ˆæ¯çš„è§£å†³æ–¹æ¡ˆ</strong>ã€‚</p>
<p>è¿™ä¸ªæ¶ˆæ¯æ˜¯HBaseä¸èƒ½åŠ è½½åˆ°Hadoopçš„åŸç”Ÿåº“å¯¼è‡´çš„ï¼Œå¯èƒ½æ˜¯ä¸Šæ–‡å°†HBaseçš„ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºä¸è°ƒç”¨Hadoopçš„åº“æ‰€è‡´ã€‚é‚£åˆ°åº•è°ƒç”¨ä¸è°ƒç”¨å‘¢ï¼Ÿ</p>
<p>ä½†çœ‹å®˜æ–¹æ–‡æ¡£<a target="_blank" rel="noopener" href="https://hbase.apache.org/book.html#hadoop.native.lib">Apache HBase â„¢ Reference Guide</a>çš„è¯´æ˜ï¼š</p>
<blockquote>
<p>Letâ€™s presume your Hadoop shipped with a native library that suits the platform you are running HBase on. To check if the Hadoop native library is available to HBase, run the following tool (available in Hadoop 2.1 and greater):</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ./bin/hbase --config ~/conf_hbase org.apache.hadoop.util.NativeLibraryChecker</span><br><span class="line">2014-08-26 13:15:38,717 WARN  [main] util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</span><br><span class="line">Native library checking:</span><br><span class="line">hadoop: false</span><br><span class="line">zlib:   false</span><br><span class="line">snappy: false</span><br><span class="line">lz4:    false</span><br><span class="line">bzip2:  false</span><br><span class="line">2014-08-26 13:15:38,863 INFO  [main] util.ExitUtil: Exiting with status 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Above shows that the native hadoop library is not available in HBase context.</p>
</blockquote>
<p>å¤§æ„å°±æ˜¯è¯´ï¼Œå¯ä»¥å…ˆé€šè¿‡å‘½ä»¤æ£€æŸ¥Hadoopçš„native librayæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ£€æŸ¥ç»“æœéƒ½æ˜¯falseï¼Œé‚£å°±è¯´æ˜æ˜¯åŸç”Ÿåº“çš„é—®é¢˜ã€‚ä½†æœ¬æ¬¡è‡ªå·±æ£€æŸ¥æ²¡æœ‰å‘ç°è¿™ä¸ªé—®é¢˜ï¼Œæ•…ä¸å†è®°å½•è¿™ä¸€é—®é¢˜çš„è§£å†³æ–¹æ¡ˆäº†ã€‚</p>
<p>ï¼ˆæ³¨ï¼šæœç´¢ä»–äººè§£å†³æ–¹æ¡ˆæ—¶çœ‹åˆ°ï¼Œhadoop checknative -aå‘½ä»¤ä¹Ÿèƒ½èµ·åˆ°æ£€æŸ¥æ•ˆæœã€‚ï¼‰</p>
<p>é‚£ä¹ˆåŸç”Ÿåº“å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œéœ€è¦æ€æ ·è§£å†³å‘¢ï¼Ÿ</p>
<blockquote>
<p>To fix the above, either copy the Hadoop native libraries local or symlink to them if the Hadoop and HBase stalls are adjacent in the filesystem. You could also point at their location by setting the environment variable in your hbase-env.sh.LD_LIBRARY_PATH</p>
</blockquote>
<p>å¤§æ„å°±æ˜¯è¯´ï¼Œ**<em>éœ€è¦åœ¨hbase-env.shæ–‡ä»¶ä¸­å¢åŠ LD_LIBRARY_PATHç¯å¢ƒå˜é‡ï¼Œå€¼ä¸ºHadoopåŸç”Ÿåº“çš„è·¯å¾„</em>**<em>ï¼ˆæœ¬æ–‡æ˜¯ export LD_LIBRARY_PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;hadoop&#x2F;lib&#x2F;native ï¼‰ã€‚</em></p>
<p>ä¹‹åé‡å¯HBaseï¼Œå†è¾“å…¥hbase shellå‘½ä»¤ï¼Œç»ˆç«¯è¿”å›å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">~$ hbase shell</span><br><span class="line">HBase Shell</span><br><span class="line">Use &quot;help&quot; to get list of supported commands.</span><br><span class="line">Use &quot;exit&quot; to quit this interactive shell.</span><br><span class="line">For Reference, please visit: http://hbase.apache.org/2.0/book.html#shell</span><br><span class="line">Version 2.4.10, r3e5359c73d1a96dd7d2ac5bc8f987e9a89ef90ea, Mon Feb 28 10:03:15 PST 2022</span><br><span class="line">Took 0.0013 seconds                                                                                                                                                                                                                    </span><br><span class="line">hbase:001:0&gt;</span><br></pre></td></tr></table></figure>

<p>WARNæ¶ˆæ¯æ²¡äº†ï¼Œé—®é¢˜æˆåŠŸè§£å†³ğŸ˜‹ã€‚</p>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
              <a href="/2022/03/23/spark5/" target="_self">
                <i class="iconfont icon-chevronleft"></i>
                <span>ä¸Šä¸€é¡µ</span>
              </a>
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="æ›´æ–°æ—¶é—´"></i>
              2022-03-28 15:10:33
            </span>
            
                  <span class="post-tags">
                    <i class="iconfont icon-tags mr-10" title="æ ‡ç­¾"></i>
                    
                      <span class="span--tag mr-8">
                        <a href="/tags/spark/" title="spark">
                          #spark
                        </a>
                      </span>
                    
                      <span class="span--tag mr-8">
                        <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="å¤§æ•°æ®">
                          #å¤§æ•°æ®
                        </a>
                      </span>
                    
                  </span>
                
          </div>
          <div class="post-foot-prev">
            
              <a href="/2022/09/16/spark7/" target="_self">
                <span>ä¸‹ä¸€é¡µ</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    

    
      <div class="comments-container">
        






  <div id="gitalk-container"></div>

  <script>
    function loadGitalkSuc() {
      const gitalk = new Gitalk({
        clientID: '987b67bd9a5db6cb8c86',
        clientSecret: '849e66e79c98d2003ad293e3cdada461dd07d49d',
        repo: 'resonaw.github.io',
        owner: 'ResonaW',
        admin: ['ResonaW'],
        id: location.pathname,
        distractionFreeMode: false
      })

      gitalk.render('gitalk-container')
    }
  </script>
  
    <link rel="stylesheet" href="/plugins/gitalk.css">
    <script type="text/javascript" src="/plugins/gitalk.min.js" onload="loadGitalkSuc(this)"></script>
  



      </div>
    
    <!-- <link rel="stylesheet" href="/css/base.css"> -->
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" href="">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="email" href="">
            <i class="iconfont icon-envelope"></i>
          </a>
        </li>
      
        <li>
          <a title="rss" href="/atom.xml">
            <i class="iconfont icon-rss"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/ResonaW/">Copyright Â© 2023 ResonaW</a>
        
    </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="æœç´¢...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>é¦–æ¬¡æœç´¢ï¼Œæ­£åœ¨è½½å…¥ç´¢å¼•æ–‡ä»¶ï¼Œè¯·ç¨åâ€¦â€¦<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼Œè¯·å°è¯•æ›´æ¢æ£€ç´¢è¯ã€‚<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>æœªæ‰¾åˆ°search.xmlæ–‡ä»¶ï¼Œå…·ä½“è¯·å‚è€ƒï¼š<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>è¯·æ±‚å¤±è´¥ï¼Œå°è¯•é‡æ–°åˆ·æ–°é¡µé¢æˆ–ç¨åé‡è¯•ã€‚<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        

      </div>
    </div>
  
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: true,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body>
</html>
